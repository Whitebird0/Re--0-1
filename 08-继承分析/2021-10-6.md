虚函数的初始化
---
            #include <stdio.h>
	 	class Person {
		public:
			virtual int getAge() {
				return age;
			}
			virtual void setAge(int age) {
				this->age = age;
			}
		private:
			int age;
		};
		
		int main(int argc, char* argv[]) {
			Person person;
			return 0;
		}
    
![](https://raw.githubusercontent.com/Whitebird0/tuchuang/main/QQ%E6%88%AA%E5%9B%BE20211005200334.png)
    
进构造函数看看

![](https://raw.githubusercontent.com/Whitebird0/tuchuang/main/QQ%E6%88%AA%E5%9B%BE20211006115348.png)

就是把对象的第一个变量赋值虚表的地址

虚函数调用
---
    #include <stdio.h>

    class Person {
    public:
      virtual int getAge() {
        return age;
      }
      virtual void setAge(int age) {
        this->age = age;
      }
    private:
      int age;
    };

    int main(int argc, char* argv[]) {
      Person person;
      person.setAge(20);
      printf("%d\n", person.getAge());
      return 0;
    }

![](https://raw.githubusercontent.com/Whitebird0/tuchuang/main/QQ%E6%88%AA%E5%9B%BE20211006121648.png)

我们依次分析调用函数1/2

**函数1**

![](https://raw.githubusercontent.com/Whitebird0/tuchuang/main/QQ%E6%88%AA%E5%9B%BE20211006122214.png)

就是对局部变量进行赋值，赋值为压入的参数

**函数2**

![](https://raw.githubusercontent.com/Whitebird0/tuchuang/main/QQ%E6%88%AA%E5%9B%BE20211006122312.png)

从传进来的对象中，取出第一个局部变量

最后打印这个变量


析构函数
---
![](https://raw.githubusercontent.com/Whitebird0/tuchuang/main/QQ%E6%88%AA%E5%9B%BE20211006123022.png)
